{"version":3,"sources":["jukebox.coffee"],"names":[],"mappings":"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","file":"jukebox.js","sourceRoot":"/source/","sourcesContent":["###\n  Youtube API\n###\n\ntag = document.createElement('script')\ntag.src = 'https://www.youtube.com/iframe_api'\nfirstScriptTag = document.getElementsByTagName('script')[0]\nfirstScriptTag.parentNode.insertBefore tag, firstScriptTag\nplayer = undefined\n\ndelay = (ms, func) -> setTimeout func, ms\n\n###\n  JukeBox functionality\n###\n\n$.jukebox = (vinyls) ->\n\n  # YT stuff\n  window.onYouTubeIframeAPIReady = ->\n    console.log \"ready\"\n    player = new (YT.Player)('player', events:\n      'onReady': onPlayerReady\n      'onStateChange': onPlayerStateChange)\n    return\n\n  onPlayerStateChange = (state) ->\n    # console.log state.data\n    \n\n  onPlayerReady = ->\n    console.log 'hey Im ready'\n    player.playVideo()\n    return\n\n  checkPlayer = setInterval ->\n      state = player.getPlayerState()\n      console.log state\n      if(state == -1 || state == 0)\n        clearInterval(checkPlayer)\n        checkPlayer = 0\n        $.jukebox(vinyls)\n    , 2000\n\n  #console.log vinyls\n  vinyl = vinyls[Math.floor(Math.random()*vinyls.length)]\n  video = vinyl.videos[Math.floor(Math.random()*vinyl.videos.length)]\n\n  # fill artwork\n  $('.js-cover').attr('src', vinyl.artwork)\n\n  # fill vinyl title\n  $('.js-vinylTitle').text(vinyl.artist+' â€“ '+vinyl.title)\n\n  # fill video title\n  $('.js-videoTitle').text(video.title)\n\n  # fill player\n  $('#player').attr('src', video.uri+\"?&controls=0&enablejsapi=1&showinfo=0&autohide=1\")\n\n  # skip\n  $('.js-skip').click ->\n    clearInterval(checkPlayer)\n    checkPlayer = 0\n    $.jukebox(vinyls)"]}