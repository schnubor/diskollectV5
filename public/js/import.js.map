{"version":3,"sources":["import.coffee"],"names":[],"mappings":"AAAA;AAAA,EAAA,CAAC,CAAC,WAAF,GAAgB,SAAC,QAAD,EAAW,OAAX,GAAA;AACZ,QAAA,QAAA;AAAA,IAAA,CAAA,CAAE,iBAAF,CAAoB,CAAC,OAArB,CAA6B,GAA7B,EAAkC,SAAA,GAAA;aAC9B,CAAA,CAAE,mBAAF,CAAsB,CAAC,IAAvB,CAA4B,yCAA5B,EAD8B;IAAA,CAAlC,CAAA,CAAA;WAGA,QAAA,GAAW,CAAC,CAAC,IAAF,CACP;AAAA,MAAA,GAAA,EAAK,gCAAA,GAAiC,QAAjC,GAA0C,gCAA/C;AAAA,MACA,IAAA,EAAM,KADN;AAAA,MAEA,KAAA,EAAO,SAAC,CAAD,EAAG,MAAH,EAAU,KAAV,GAAA;AACH,QAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,CAAA,CAAA;eACA,OAAO,CAAC,GAAR,CAAY,KAAZ,EAFG;MAAA,CAFP;AAAA,MAKA,OAAA,EAAS,SAAC,QAAD,GAAA;AAEL,YAAA,iCAAA;AAAA,QAAA,cAAA,GAAiB,QAAQ,CAAC,QAA1B,CAAA;AAAA,QACA,WAAA,GAAc,IADd,CAAA;eAGA,IAAA,GAAO,CAAC,CAAC,IAAF,CACH;AAAA,UAAA,GAAA,EAAK,YAAA,GAAa,OAAb,GAAqB,SAA1B;AAAA,UACA,IAAA,EAAM,KADN;AAAA,UAEA,KAAA,EAAO,SAAC,CAAD,EAAG,MAAH,EAAU,KAAV,GAAA;AACH,YAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,CAAA,CAAA;mBACA,OAAO,CAAC,GAAR,CAAY,KAAZ,EAFG;UAAA,CAFP;AAAA,UAKA,OAAA,EAAS,SAAC,QAAD,GAAA;AACL,YAAA,WAAA,GAAc,QAAd,CAAA;AAAA,YAEA,CAAA,CAAE,mBAAF,CAAsB,CAAC,IAAvB,CAA4B,+BAAA,GAAgC,cAAc,CAAC,MAA/C,GAAsD,0CAAlF,CAFA,CAAA;AAAA,YAIA,CAAC,CAAC,IAAF,CAAO,cAAP,EAAuB,SAAC,KAAD,GAAA;qBACnB,CAAA,CAAE,iBAAF,CAAoB,CAAC,IAArB,CAA0B,OAA1B,CAAkC,CAAC,MAAnC,CAA0C,UAAA,GAAW,cAAe,CAAA,KAAA,CAAM,CAAC,EAAjC,GAAoC,WAApC,GAAgD,cAAe,CAAA,KAAA,CAAM,CAAC,iBAAiB,CAAC,OAAQ,CAAA,CAAA,CAAE,CAAC,IAAnG,GAAwG,WAAxG,GAAoH,cAAe,CAAA,KAAA,CAAM,CAAC,iBAAiB,CAAC,KAA5J,GAAkK,YAA5M,EADmB;YAAA,CAAvB,CAJA,CAAA;mBAMA,CAAA,CAAE,iBAAF,CAAoB,CAAC,MAArB,CAAA,EAPK;UAAA,CALT;SADG,EALF;MAAA,CALT;KADO,EAJC;EAAA,CAAhB,CAAA;AAAA","file":"import.js","sourceRoot":"/source/","sourcesContent":["$.getReleases = (username, user_id) ->\n    $('.js-startImport').fadeOut 400, ->\n        $('.js-importResults').html('<p class=\"placeholder\">Fetching ...</p>')\n\n    $discogs = $.ajax\n        url: 'https://api.discogs.com/users/'+username+'/collection/folders/0/releases'\n        type: 'GET'\n        error: (x,status,error) ->\n            console.log status\n            console.log error\n        success: (response) ->\n            #console.log response\n            discogs_vinyls = response.releases\n            user_vinyls = null\n\n            $api = $.ajax\n                url: '/api/user/'+user_id+'/vinyls'\n                type: 'GET'\n                error: (x,status,error) ->\n                    console.log status\n                    console.log error\n                success: (response) ->\n                    user_vinyls = response\n                    # imports = $.grep() \n                    $('.js-importResults').html('<p class=\"placeholder\">Found '+discogs_vinyls.length+' records in your Discogs collection.</p>')\n                    \n                    $.each discogs_vinyls, (index) ->\n                        $('.js-importTable').find('tbody').append('<tr><td>'+discogs_vinyls[index].id+'</td><td>'+discogs_vinyls[index].basic_information.artists[0].name+'</td><td>'+discogs_vinyls[index].basic_information.title+'</td></tr>');\n                    $('.js-importTable').fadeIn()\n"]}